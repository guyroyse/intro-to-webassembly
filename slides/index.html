<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>An Introduction to WebAssembly</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/datarobot.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <section data-background="#000">
          <div class="splash-slide">
            <img class="splash" src="images/datarobot-white-logo.svg" />
          </div>
        </section>

        <section data-background="images/adding-machine.jpg">
          <div class="title-slide">
            <h1 style="grid-row: 1; text-align: right; margin-right: 30px;
                text-shadow: white 0px 0px 50px;">
              What's Old is New</h1>
            <h2 style=" grid-row: 2 / span 2; grid-column: 5 / span 4;
                text-align: right; margin-right: 30px;
                color: white;">
              An Introduction to WebAssembly</h2>
            <img
              class="logo"
              style="grid-column: 1 / span 2; justify-self: start;"
              src="images/datarobot-white-logo.svg" />
          </div>
        </section>

        <section>
          <div class="about-slide">
            <img class="headshot" src="images/headshot.jpg" />
            <article class="about">
              <h1 class="name">Guy Royse</h1>
              <h2 class="title">Developer Evangelist</h2>
              <h3 class="employer">DataRobot</h3>
              <p class="email">guy.royse@datarobot.com</p>
              <p class="twitter">@guyroyse</p>
            </article>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section>
          <div class="picture-slide">
            <h1 class="title">What is WebAssembly?</h1>
            <img class="main-picture" src="images/50-web-50-assembly.png" />
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section data-background="#09f">
          <div class="splash-slide">
            <h1 class="splash" style="color: white">The Web</h1>
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">JavaScript in the Browser</h1>
            <article class="main-text" style="align-self: center;">
              <p>
                <span class="green box" style="width: 250px; height: 250px;">Download</span>
                <span style="font-size: 60px;">→</span>
                <span class="blue box" style="width: 250px; height: 250px;">Parse</span>
                <span style="font-size: 60px;">→</span>
                <span class="purple box" style="width: 250px; height: 250px;">Execute</span>
              </p>
            </article>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section data-background="images/rubber-ducks.jpg">
          <div class="splash-slide">
            <h1 class="splash">So Many Choices</h1>
          </div>
        </section>

        <section data-background="images/pile-of-tools.jpg">
          <div class="text-slide" style="background-color: rgba(0, 0, 0, 0.6); padding-top: 20px; margin: auto 150px;">
            <h1 class="title" style="color: white;">A Simple JavaScript Environment</h1>
            <article class="main-text" style="color: white;">
              <p>It's easy! Just use these simple tools.</p>
              <ul>
                <li>npm or yarn</li>
                <li>Bower</li>
                <li>Webpack</li>
                <li>Babel</li>
                <li>Grunt or Gulp</li>
                <li>live-server</li>
                <li>React and Redux</li>
                <li>Mocha, Chai, and Sinon</li>
              </ul>
            </article>
          </div>
        </section>

        <section data-background="#09f">
          <div class="splash-slide">
            <h1 class="splash" style="color: white">The Assembly</h1>
          </div>
        </section>

        <section>
          <div class="picture-text-slide">
            <h1 class="title">Machine Code</h1>
            <img class="left-picture"
                 style="border-style: none; grid-row: 2; grid-column: 2; justify-self: right"
                 src="images/sample-icon.svg" />
            <article class="right-text" style="grid-column: 3 / span 5; justify-self: stretch;">
              <pre style="margin-top: 0px;"><code data-trim data-noescape>
                0200  A0 00
                0202  A2 00
                0204  8A
                0205  85 C4
                0207  20 22 F0
                020A  C8
                020B  70 05
                020D  4C 07 02
                0210  B8
                0211  E8
                0212  4C 04 02
              </code></pre>
            </article>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Assembly Code</h1>
            <pre style="grid-column: 2 / span 2; grid-row: 2 / span 3; align-self: center; justify-self: stretch; margin-top: 0px;"><code data-trim data-noescape>
                      LDY #$00
                      LDX #$00
              LOOP2   TXA
                      STA $00C4
              LOOP1   JSR SCAN
                      INY
                      BVS RESET
                      JMP LOOP1
              RESET   CLV
                      INX
                      JMP LOOP2
            </code></pre>
            <div style="grid-column: 4 / span 2; grid-row: 2 / span 3; align-self: center; font-size: 120px;">→</div>
            <pre style="grid-column: 6 / span 2; grid-row: 2 / span 3; align-self: center; justify-self: stretch; margin-top: 0px;"><code data-trim data-noescape>
              0200  A0 00
              0202  A2 00
              0204  8A
              0205  85 C4
              0207  20 22 F0
              020A  C8
              020B  70 05
              020D  4C 07 02
              0210  B8
              0211  E8
              0212  4C 04 02
            </code></pre>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Compiled Code</h1>
            <pre style="grid-column: 2 / span 3; grid-row: 2 / span 3; align-self: center; justify-self: stretch; margin-top: 0px;"><code data-trim data-noescape>
              for (int x = 0; x < 12; x++) {
                for (int y = 0; y < 12; y++) {
                  scan(x, y);
                }
              }
            </code></pre>
            <div style="grid-column: 5; grid-row: 2 / span 3; align-self: center; font-size: 120px;">→</div>
            <pre style="grid-column: 6 / span 2; grid-row: 2 / span 3; align-self: center; justify-self: stretch; margin-top: 0px;"><code data-trim data-noescape>
              0200  A0 00
              0202  A2 00
              0204  8A
              0205  85 C4
              0207  20 22 F0
              020A  C8
              020B  70 05
              020D  4C 07 02
              0210  B8
              0211  E8
              0212  4C 04 02
            </code></pre>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Virtual Machines</h1>
            <span style="grid-row: 2; grid-column: 3; width: 100%; height: 100%;" class="green box-small">Source</span>
            <span style="grid-row: 2; grid-column: 5; width: 100%; height: 100%;" class="yellow box-small">Virtual<br/>Machine</span>
            <span style="grid-row: 3; grid-column: 3; align-self: center; font-size: 60px;">↓</span>
            <span style="grid-row: 3; grid-column: 5; align-self: center; font-size: 60px;">↓</span>
            <span style="grid-row: 4; grid-column: 3; width: 100%; height: 100%;" class="blue box-small">Bytecode</span>
            <span style="grid-row: 4; grid-column: 4; align-self: center; font-size: 60px;">→</span>
            <span style="grid-row: 4; grid-column: 5; width: 100%; height: 100%;" class="purple box-small">Execute</span>
            <span style="grid-row: 4; grid-column: 6; align-self: center; font-size: 60px;">→</span>
            <img class="left-picture"
                 style="border-style: none; grid-row: 4; grid-column: 7; justify-self: start; align-self: center;"
                 src="images/sample-icon.svg" />
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section data-background="images/peanut-butter-cups.jpg">
          <div class="splash-slide">
            <h1 class="splash" style="text-shadow: 0px 0px 100px white, 0px 0px 50px white, 0px 0px 25px white; font-size: 90px;">Web + Assembly = WebAssembly</h1>
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">How WebAssembly Works</h1>
            <span style="grid-row: 2; grid-column: 2 / span 2; width: 100%; height: 100%;" class="green box-small">Source<br/>&lt;fizzbuzz.rs&gt;</span>
            <span style="grid-row: 2; grid-column: 6 / span 2; width: 100%; height: 100%;" class="yellow box-small">JavaScript<br/>&lt;app.js&gt;</span>
            <span style="grid-row: 3; grid-column: 2 / span 2; align-self: center; font-size: 90px;">↓</span>
            <span style="grid-row: 3; grid-column: 6 / span 2; align-self: center; font-size: 90px;">↓</span>
            <span style="grid-row: 4; grid-column: 2 / span 2; width: 100%; height: 100%;" class="blue box-small">Bytecode<br/>&lt;fizzbuzz.wasm&gt;</span>
            <span style="grid-row: 4; grid-column: 4 / span 2; align-self: center; font-size: 90px;">→</span>
            <span style="grid-row: 4; grid-column: 6 / span 2; width: 100%; height: 100%;" class="purple box-small">Browser</span>
            <img class="logo" src="images/real-robot.png" />
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">WebAssembly Modules</h1>
            <article class="main-text">
              <ul>
                <li>Represented as a .wasm file</li>
                <li>Content-Type: application/wasm</li>
                <li>Contains functions exposed via exports</li>
                <li>Can accept functions via imports</li>
                <li>Functions can only take and return numbers (i32, i64, f32, f64)</li>
              </ul>
            </article>
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Using a WebAssembly Module</h1>
            <article class="main-text">
              <pre style="margin-top: 0px; font-size: 36px"><code data-trim data-noescape>
                fetch('fizzbuzz.wasm')
                  .then(response => response.arrayBuffer())
                  .then(bytes => WebAssembly.instantiate(bytes))
                  .then(results => {
                    results.instance.exports.fizzTheBuzz(15);
                  })
              </code></pre>
            </article>
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Calling JavaScript from a WebAssembly Module</h1>
            <article class="main-text">
              <pre style="margin-top: 0px; font-size: 36px"><code data-trim data-noescape>
                let imports = {
                  fizzbuzz: {
                    callback: x => console.log(x)
                  }
                }

                WebAssembly.instantiate(bytes, imports)
              </code></pre>
            </article>
          </div>
        </section>

        <section>
          <div class="splash-slide">
            <h1 class="splash">Demo</h1>
          </div>
        </section>

        <section>
          <div class="text-slide">
            <h1 class="title">Resources</h1>
            <article class="main-text">
              <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/WebAssembly">MDN Articles</a></li>
                <li><a href="https://webassembly.org/">WebAssembly website (command reference)</a></li>
                <li><a href="https://github.com/webassembly/wabt">The WebAssembly Binary Toolkit</a> - assembler and disassembler</li>
                <li><a href="https://marketplace.visualstudio.com/items?itemName=dtsvet.vscode-wasm">WebAssembly Toolkit for VSCode</a> - assembly code highlighter and assembler</li>
                <li><a href="https://www.rust-lang.org/en-US/">Rust</a> - has built-in support for WebAssembly</li>
                <li><a href="https://github.com/kripken/emscripten">Emscripten</a> - LLVM bitcode to WebAssembly</li>
                <li><a href="https://github.com/appcypher/awesome-wasm-langs">Other Languages</a> - .NET, Elixir, Go, Java, Python, et al.</li>
                <li><a href="https://github.com/mbasso/awesome-wasm">Awesome Wasm</a> - curated list of awesome WebAssembly things</li>
                <li><a href="https://mbebenita.github.io/WasmExplorer/">WasmExplore</a> - compile C++ code in a browser to WASM</li>
                <li><a href="https://webassembly.studio/">WebAssembly Studio</a> - web based IDE for write WebAssembly in Rust, C, or WAT</li>
              </ul>
            </article>
          </div>
        </section>

      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        center: true,
        width: '100%',
        height: '100%',
        controlsLayout: 'edges',
        slideNumber: true,
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
